{"ast":null,"code":"import _toConsumableArray from \"/Users/fardowsa/Library/CloudStorage/OneDrive-UW/Classes/Junior Year/INFO 340/project-ainakanae/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/Users/fardowsa/Library/CloudStorage/OneDrive-UW/Classes/Junior Year/INFO 340/project-ainakanae/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { useEffect, useState } from \"react\";\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\nfunction SearchFilter(_ref) {\n  var setLikedItems = _ref.setLikedItems,\n    likedItems = _ref.likedItems;\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    user = _useState2[0],\n    setUser = _useState2[1];\n  useEffect(function () {\n    // Set up auth listener\n    var unsubscribe = firebase.auth().onAuthStateChanged(function (user) {\n      setUser(user);\n    });\n    return unsubscribe;\n  }, []);\n  var handleLike = function handleLike(title, artwork) {\n    var itemToAdd = {\n      title: title,\n      artwork: artwork\n    };\n    var newLikedItems = [].concat(_toConsumableArray(likedItems), [itemToAdd]);\n    setLikedItems(newLikedItems);\n\n    // Save liked item to database\n    if (user) {\n      var db = firebase.firestore();\n      db.collection(\"users\").doc(user.uid).collection(\"likedItems\").add(itemToAdd).then(function (docRef) {\n        console.log(\"Liked item saved with ID: \", docRef.id);\n      }).catch(function (error) {\n        console.error(\"Error saving liked item: \", error);\n      });\n    }\n  };\n\n  // Rest of your code\n}","map":{"version":3,"names":["useEffect","useState","firebase","SearchFilter","_ref","setLikedItems","likedItems","_useState","_useState2","_slicedToArray","user","setUser","unsubscribe","auth","onAuthStateChanged","handleLike","title","artwork","itemToAdd","newLikedItems","concat","_toConsumableArray","db","firestore","collection","doc","uid","add","then","docRef","console","log","id","catch","error"],"sources":["/Users/fardowsa/Library/CloudStorage/OneDrive-UW/Classes/Junior Year/INFO 340/project-ainakanae/src/components/SearchFilter.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\n\nfunction SearchFilter({ setLikedItems, likedItems }) {\n  const [user, setUser] = useState(null);\n\n  useEffect(() => {\n    // Set up auth listener\n    const unsubscribe = firebase.auth().onAuthStateChanged((user) => {\n      setUser(user);\n    });\n    return unsubscribe;\n  }, []);\n\n  const handleLike = (title, artwork) => {\n    const itemToAdd = { title, artwork };\n    const newLikedItems = [...likedItems, itemToAdd];\n    setLikedItems(newLikedItems);\n\n    // Save liked item to database\n    if (user) {\n      const db = firebase.firestore();\n      db.collection(\"users\")\n        .doc(user.uid)\n        .collection(\"likedItems\")\n        .add(itemToAdd)\n        .then((docRef) => {\n          console.log(\"Liked item saved with ID: \", docRef.id);\n        })\n        .catch((error) => {\n          console.error(\"Error saving liked item: \", error);\n        });\n    }\n  };\n\n  // Rest of your code\n}\n"],"mappings":";;AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,OAAOC,QAAQ,MAAM,cAAc;AACnC,OAAO,eAAe;AACtB,OAAO,oBAAoB;AAE3B,SAASC,YAAYA,CAAAC,IAAA,EAAgC;EAAA,IAA7BC,aAAa,GAAAD,IAAA,CAAbC,aAAa;IAAEC,UAAU,GAAAF,IAAA,CAAVE,UAAU;EAAA,IAAAC,SAAA,GACvBN,QAAQ,CAAC,IAAI,CAAC;IAAAO,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAA/BG,IAAI,GAAAF,UAAA;IAAEG,OAAO,GAAAH,UAAA;EAEpBR,SAAS,CAAC,YAAM;IACd;IACA,IAAMY,WAAW,GAAGV,QAAQ,CAACW,IAAI,EAAE,CAACC,kBAAkB,CAAC,UAACJ,IAAI,EAAK;MAC/DC,OAAO,CAACD,IAAI,CAAC;IACf,CAAC,CAAC;IACF,OAAOE,WAAW;EACpB,CAAC,EAAE,EAAE,CAAC;EAEN,IAAMG,UAAU,GAAG,SAAbA,UAAUA,CAAIC,KAAK,EAAEC,OAAO,EAAK;IACrC,IAAMC,SAAS,GAAG;MAAEF,KAAK,EAALA,KAAK;MAAEC,OAAO,EAAPA;IAAQ,CAAC;IACpC,IAAME,aAAa,MAAAC,MAAA,CAAAC,kBAAA,CAAOf,UAAU,IAAEY,SAAS,EAAC;IAChDb,aAAa,CAACc,aAAa,CAAC;;IAE5B;IACA,IAAIT,IAAI,EAAE;MACR,IAAMY,EAAE,GAAGpB,QAAQ,CAACqB,SAAS,EAAE;MAC/BD,EAAE,CAACE,UAAU,CAAC,OAAO,CAAC,CACnBC,GAAG,CAACf,IAAI,CAACgB,GAAG,CAAC,CACbF,UAAU,CAAC,YAAY,CAAC,CACxBG,GAAG,CAACT,SAAS,CAAC,CACdU,IAAI,CAAC,UAACC,MAAM,EAAK;QAChBC,OAAO,CAACC,GAAG,CAAC,4BAA4B,EAAEF,MAAM,CAACG,EAAE,CAAC;MACtD,CAAC,CAAC,CACDC,KAAK,CAAC,UAACC,KAAK,EAAK;QAChBJ,OAAO,CAACI,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;MACnD,CAAC,CAAC;IACN;EACF,CAAC;;EAED;AACF"},"metadata":{},"sourceType":"module"}