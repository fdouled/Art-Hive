{"ast":null,"code":"import _slicedToArray from \"/Users/fardowsa/Library/CloudStorage/OneDrive-UW/Classes/Junior Year/INFO 340/project-ainakanae/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/fardowsa/Library/CloudStorage/OneDrive-UW/Classes/Junior Year/INFO 340/project-ainakanae/src/components/Liked.js\";\nimport { useEffect, useState } from \"react\";\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\nfunction Liked(_ref) {\n  var _this = this;\n  var handleLike = _ref.handleLike;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    likedItems = _useState2[0],\n    setLikedItems = _useState2[1];\n  useEffect(function () {\n    // Set up auth listener\n    var unsubscribe = firebase.auth().onAuthStateChanged(function (user) {\n      if (user) {\n        // Retrieve liked items for current user\n        var db = firebase.firestore();\n        db.collection(\"users\").doc(user.uid).collection(\"likedItems\").onSnapshot(function (querySnapshot) {\n          var items = [];\n          querySnapshot.forEach(function (doc) {\n            items.push(doc.data());\n          });\n          setLikedItems(items);\n        });\n      } else {\n        setLikedItems([]);\n      }\n    });\n    return unsubscribe;\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 5\n    }\n  }, likedItems.map(function (item) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"liked-item\",\n      key: item.artwork,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: item.image,\n      alt: item.title,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"liked-item-title\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 11\n      }\n    }, item.title), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"remove-like\",\n      onClick: function onClick() {\n        return handleLike(item.title, item.artwork);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-times\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 13\n      }\n    })));\n  }));\n}\nexport default Liked;","map":{"version":3,"names":["useEffect","useState","firebase","Liked","_ref","_this","handleLike","_useState","_useState2","_slicedToArray","likedItems","setLikedItems","unsubscribe","auth","onAuthStateChanged","user","db","firestore","collection","doc","uid","onSnapshot","querySnapshot","items","forEach","push","data","React","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","map","item","className","key","artwork","src","image","alt","title","onClick"],"sources":["/Users/fardowsa/Library/CloudStorage/OneDrive-UW/Classes/Junior Year/INFO 340/project-ainakanae/src/components/Liked.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\n\nfunction Liked({ handleLike }) {\n  const [likedItems, setLikedItems] = useState([]);\n\n  useEffect(() => {\n    // Set up auth listener\n    const unsubscribe = firebase.auth().onAuthStateChanged((user) => {\n      if (user) {\n        // Retrieve liked items for current user\n        const db = firebase.firestore();\n        db.collection(\"users\")\n          .doc(user.uid)\n          .collection(\"likedItems\")\n          .onSnapshot((querySnapshot) => {\n            const items = [];\n            querySnapshot.forEach((doc) => {\n              items.push(doc.data());\n            });\n            setLikedItems(items);\n          });\n      } else {\n        setLikedItems([]);\n      }\n    });\n    return unsubscribe;\n  }, []);\n\n  return (\n    <div>\n      {likedItems.map((item) => (\n        <div className=\"liked-item\" key={item.artwork}>\n          <img src={item.image} alt={item.title} />\n          <p className=\"liked-item-title\">{item.title}</p>\n          <button\n            className=\"remove-like\"\n            onClick={() => handleLike(item.title, item.artwork)}\n          >\n            <i className=\"fa fa-times\"></i>\n          </button>\n        </div>\n      ))}\n    </div>\n  );\n}\n\nexport default Liked;"],"mappings":"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"},"metadata":{},"sourceType":"module"}